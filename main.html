<head>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
  <title>Spark</title>
  <link rel="icon" sizes="16x16 32x32" href="/favicon.ico?v=2">
</head>


<template name="nav">
  <nav class="navbar navbar-default">
    <div class="delta">
      <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="/" target="_top">Spark</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">

          <form class="navbar-form navbar-left" role="search">
            <div class="form-group">
              <input type="text" class="form-control" placeholder="Search Spark" style="width:250px">
            </div>
            <!-- <button type="submit" class="btn btn-default" style="width:65px"><i class="fa fa-search"></i></button> -->
          </form>
          <ul class="nav navbar-nav">

            <li><a href="{{pathFor 'ideas'}}" target="_top">Ideas</a></li>
            <li><a href="{{pathFor 'projects'}}" target="_top">Projects</a></li>
            <li class="dropdown">
              <a href="#" target="_top" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"><b>Hot</b><span class="caret"></span></a>
              <ul class="dropdown-menu" role="menu">
                <li><a href="#" target="_top">Top</a></li>
                <li><a href="#" target="_top">Newest</a></li>
                <li><a href="#" target="_top">Controversial</a></li>
                <li><a href="#" target="_top">Promoted</a></li>
                <li class="divider"></li>
                <li><a href="#">Categories</a></li>
              </ul>
            </li>
          </ul>
          <ul class="nav navbar-nav navbar-right">
            <li class="dropdown">
              <a href="#" target="_top" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"><i class="fa fa-file-o" style="font-size: 15px"></i><span class="caret"></span></a>
              <ul class="dropdown-menu" role="menu">
                <li><a href="/newidea" target="_top">New Idea</a></li>
                <li><a href="/newproject" target="_top">New Project</a></li>
              </ul>
            </li>
            <li><a href="#" target="_top"><i class="fa fa-cog" style="font-size: 15px"></i></a></li>
            <li>
              <!--  HTML (to Trigger Modal) -->
              <button id="logout" class="btn btn-default" style="margin-left:15px; margin-top:7.5px; margin-right:15px">Logout</button>
            </li>
          </ul>
        </div><!-- /.navbar-collapse -->
      </div><!-- /.container-fluid -->
    </div><!-- /.delta -->
  </nav>
  <script>
  document.getElementById("logout").onclick = function () {
    Meteor.logout();
    Meteor.logoutOtherClients();
    window.location = "/landing"
  }
  </script>
</template>


<template name="footer">
  <br>
  <div id="footer">
    <div class="copyright">
      <div class="delta">
        <center>
          <div class="col-sm-2">
            <p>&copy; 2015 Spark</p>  
          </div>
          <div class="col-sm-2">
            <p><a href="/tos" target="_top">Terms of Service</a></p>  
          </div>
          <div class="col-sm-2">
            <p><a href="/privacy" target="_top">Privacy Policy</a></p>   
          </div>
          <div class="col-sm-2">
            <p><a href="/developers" target="_top">Developers</a></p>  
          </div>
          <div class="col-sm-2">
            <p><a href="/artists" target="_top">Artists</a></p>  
          </div>
          <div class="col-sm-2">
            <p><a href="/about" target="_top">About</a></p>  
          </div>
        </center>
      </div>
    </div>
  </div>
</template>


<template name="home">
  {{#if currentUser}}
  {{>ideasTab}}
  {{else}}
  {{#unless loggingIn}}
  {{>landing}}
  {{/unless}}
  {{/if}}
</template>


<template name="ideasTab">
  {{#if currentUser}}
  {{> nav}}
  {{else}}
  {{#unless loggingIn}}
  {{>logoutNav}}
  {{/unless}}
  {{/if}}
  <div class="delta">
    <h1 id="space" style="padding-top: 20px;padding-bottom: 10px">Ideas</h1>
    <br>
    <div class="panel panel-default">
      <div class="panel-body">
        <ol>
          {{#each ideas}}
          {{> idea}}
          {{/each}}
        </ol>
      </div>
    </div>
  </div>
  <nav style="text-align: center">
    <ul class="pager">
      <li><a href="#">Previous</a></li>
      <li><a href="#">Next</a></li>
    </ul>
  </nav>
  {{> footer}}
</template>


<template name="projectsTab">
  {{#if currentUser}}
  {{> nav}}
  {{else}}
  {{#unless loggingIn}}
  {{>logoutNav}}
  {{/unless}}
  {{/if}}
  <div class="delta">
    <h1 id="space" style="padding-top: 20px;padding-bottom: 10px">Projects</h1>
    <br>
    <div class="panel panel-default">
      <div class="panel-body">
        <ol>
          {{#each projects}}
          {{> project}}
          {{/each}}
        </ol>
      </div>
    </div>
  </div>
  <nav style="text-align: center">
    <ul class="pager">
      <li><a href="#">Previous</a></li>
      <li><a href="#">Next</a></li>
    </ul>
  </nav>
  {{> footer}}
</template>


<template name="newIdea">
  {{#if currentUser}}
  {{> nav}}

  <div class="alpha">
    <h1 style="padding-top: 20px;padding-bottom: 10px">Create a New Idea</h1>
    <br>
    <div class="panel panel-default">
      <div class="panel-body">
        <form class="addIdeaForm" id="form">
          <label>Title</label>
          <input type="text" id="title" name="title" class="form-control"><br>
          <label>Categories</label>
          <span id="helpBlock" class="help-block">Please select up to 3 categories.</span>
          <select multiple id="category" name="category" class="form-control">
            <option>Books & Reference</option>
            <option>Business</option>
            <option>Comics</option>
            <option>Communication</option>
            <option>Education</option>
            <option>Entertainment</option>
            <option>Finance</option>
            <option>Health & Fitness</option>
            <option>Libraries & Demo</option>
            <option>Lifestyle</option>
            <option>Live Wallpaper</option>
            <option>Media & Video</option>
            <option>Medical</option>
            <option>Music & Audio</option>
            <option>News & Magazines</option>
            <option>Personalization</option>
            <option>Photography</option>
            <option>Productivity</option>
            <option>Shopping</option>
            <option>Social</option>
            <option>Sports</option>
            <option>Tools</option>
            <option>Transportation</option>
            <option>Travel & Local</option>
            <option>Weather</option>
            <option>Widgets</option>
          </select><br>
          <label>Description</label>
          <input type="text" id="content" name="content" class="form-control"><br>
          <label>Slug</label>
          <input type="text" id="slug" name="slug" class="form-control"><br>
          <hr>
          <label>Image</label>
          <span id="helpBlock" class="help-block">Please provide a URL to an image.</span>
          <input type="text" id="image" name="image" class="form-control"><br>
          <input id="submit" type="submit" value="Spark!" class="btn btn-block btn-lg btn-primary"><br>
        </form>
      </div>
    </div>
  </div>
  {{else}}
  {{#unless loggingIn}}
  {{>pageNotFound}}
  {{/unless}}
  {{/if}}
  <script>
  document.title = "Create a New Idea"
  </script>
  {{> footer}}
</template>


<template name="newProject">
  {{#if currentUser}}
  {{> nav}}

  <div class="alpha">

    <h1 style="padding-top: 20px;padding-bottom: 10px">Create a New Project</h1>
    <br>
    <div class="panel panel-default">
      <div class="panel-body">
        <form class="addProjectForm" id="form">
          <label>Title</label>
          <input type="text" id="title" name="title" class="form-control"><br>
          <label>Categories</label>
          <span id="helpBlock" class="help-block">Please select up to 3 categories.</span>
          <select multiple id="category" name="category" class="form-control">
            <option>Books & Reference</option>
            <option>Business</option>
            <option>Comics</option>
            <option>Communication</option>
            <option>Education</option>
            <option>Entertainment</option>
            <option>Finance</option>
            <option>Health & Fitness</option>
            <option>Libraries & Demo</option>
            <option>Lifestyle</option>
            <option>Live Wallpaper</option>
            <option>Media & Video</option>
            <option>Medical</option>
            <option>Music & Audio</option>
            <option>News & Magazines</option>
            <option>Personalization</option>
            <option>Photography</option>
            <option>Productivity</option>
            <option>Shopping</option>
            <option>Social</option>
            <option>Sports</option>
            <option>Tools</option>
            <option>Transportation</option>
            <option>Travel & Local</option>
            <option>Weather</option>
            <option>Widgets</option>
          </select><br>
          <label>Description</label>
          <textarea type="text" id="content" name="content" class="form-control" rows="4"></textarea><br>
          <label>Slug</label>
          <input type="text" id="slug" name="slug" class="form-control"><br>
          <hr>
          <label>Image</label>
          <span id="helpBlock" class="help-block">Please provide a URL to an image.</span>
          <input type="text" id="image" name="image" class="form-control"><br>
          <input id="submit" type="submit" value="Spark!" class="btn btn-block btn-lg btn-primary"><br>
        </form>
      </div>
    </div>
  </div>
  {{else}}
  {{#unless loggingIn}}
  {{>pageNotFound}}
  {{/unless}}
  {{/if}}
  <script>
  document.title = "Create a New Project"
  </script>
  {{> footer}}
</template>


<template name="idea">
  <li>
    <table>
      <tr>

        <td>
          <a href="/ideas/{{slug}}" target="_top" style="margin-left: 10px">
            {{>thumbnail}}
          </a>
        </td>

        <td id="middle-row" style="width: 600px">
          <h3>
            <a id="middle-link" href="/ideas/{{slug}}" target="_top" style="margin-left: 30px; margin-right: 20px">{{title}}</a>
            <!-- <h5 style="color:#7F8C8D">{{content}}</h5> -->
            {{#if isOwner}}
            <button class="delete"><i class="fa fa-times-circle"></i></button>
            {{/if}}
          </h3>
        </td>

        <td style="width: 150px">
          <ul>
            <center>
              <li style="font-size:20px; color:#BDC3C7; margin-right: 20px; list-style:none"><i class="fa fa-chevron-up"></i></li>
              <li style="font-size:20px; color:#BDC3C7; margin-right: 20px; list-style:none"><span class="badge" style="font-size: 20px">{{count}}</span></li>
              <li style="font-size:20px; color:#BDC3C7; margin-right: 20px; list-style:none"><i class="fa fa-chevron-down"></i></li>
            </center>
          </ul>
        </td>

      </tr>
    </table>

    <br><br>
    
  </li>
</template>


<template name="project">
  <li>
    <table>
      <tr>

        <td>
          <a href="/projects/{{slug}}" target="_top" style="margin-left: 10px">
            {{>thumbnail}}
          </a>
        </td>

        <td id="middle-row" style="width: 600px">
          <h3>
            <a id="middle-link" href="/projects/{{slug}}" target="_top" style="margin-left: 30px; margin-right: 20px">{{title}}</a>
            <!-- <h5 style="color:#7F8C8D">{{content}}</h5> -->
            {{#if isOwner}}
            <button class="delete"><i class="fa fa-times-circle"></i></button>
            {{/if}}
          </h3>
        </td>

        <td style="width: 150px">
          <ul>
            <center>
              <li style="font-size:20px; color:#BDC3C7; margin-right: 20px; list-style:none"><i class="fa fa-chevron-up"></i></li>
              <li style="font-size:20px; color:#BDC3C7; margin-right: 20px; list-style:none"><span class="badge" style="font-size: 20px">{{count}}</span></li>
              <li style="font-size:20px; color:#BDC3C7; margin-right: 20px; list-style:none"><i class="fa fa-chevron-down"></i></li>
            </center>
          </ul>
        </td>

      </tr>
    </table>

    <br><br>
    
  </li>
</template>


<template name="comments">
  <table style="margin: 30px">
    <tr>
      <p>Comment #1</p>
    </tr>
    <tr>
      <p>Comment #2</p>
    </tr>
    <tr>
      <p>Comment #3</p>
    </tr>
  </table>
</template>


<template name="ideaView">
  {{#if currentUser}}
  {{> nav}}
  {{else}}
  {{#unless loggingIn}}
  {{>logoutNav}}
  {{/unless}}
  {{/if}}
  <div class="container">
    <div class="alpha">
      <div class="row">
        <div class="col-sm-12">

          <table width="100%">
            <tr> 
              <td>
                <h1>{{title}}</h1>
                <h1><small>{{content}}</small></h1>
              </td>
              <td> 
                <div class="pull-right">
                  <center>
                    <span class="badge" style="font-size: 36px; margin-top: 20px">{{count}}</span>
                    <h1><small>votes</small></h1>
                  </center>
                </div>
              </td>
            </tr>
          </table>
          <br>
          {{> picture}}
          <br>
          <div class="panel panel-default">
            <div class="panel-body">
              <h2>Details</h2>
              <br>
              <p>Created on {{createdAt}} by {{username}}</p>
              <p>Categories: {{category}}</p>
            </div>
          </div>
          <div class="panel panel-default">
            <div class="panel-body">
              <h2>Comments</h2>
              {{> comments}}
            </div>
          </div>
        </div>
        <div class="col-sm-12">
          <div class="panel panel-default">
            <div class="panel-body">
              <h2>Similar Ideas</h2>
              <br>
              <center>
                {{>thumbnail}}
              </center>
            </div>
          </div>         
          <div class="panel panel-default">
            <div class="panel-body">
              <h2>Similar Projects</h2>
              <br>
              <center>
                {{>thumbnail}}
              </center>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  {{>footer}}
</template>


<template name="projectView">
  {{#if currentUser}}
  {{> nav}}
  {{else}}
  {{#unless loggingIn}}
  {{>logoutNav}}
  {{/unless}}
  {{/if}}
  <div class="container">
    <div class="alpha">
      <div class="row">
        <div class="col-sm-12">

          <table width="100%">
            <tr> 
              <td>
                <h1>{{title}}</h1>
                <h1><small>{{content}}</small></h1>
              </td>
              <td> 
                <div class="pull-right">
                  <center>
                    <span class="badge" style="font-size: 36px; margin-top: 20px">{{count}}</span>
                    <h1><small>votes</small></h1>
                  </center>
                </div>
              </td>
            </tr>
          </table>
          <br>
          {{> picture}}
          <br>
          <div class="panel panel-default">
            <div class="panel-body">
              <h2>Details</h2>
              <br>
              <p>Created on {{createdAt}} by {{username}}</p>
              <p>Categories: {{category}}</p>
            </div>
          </div>
          <div class="panel panel-default">
            <div class="panel-body">
              <h2>Comments</h2>
              {{> comments}}
            </div>
          </div>
        </div>
        <div class="col-sm-12">
          <div class="panel panel-default">
            <div class="panel-body">
              <h2>Similar Ideas</h2>
              <br>
              <center>
                {{>thumbnail}}
              </center>
            </div>
          </div>         
          <div class="panel panel-default">
            <div class="panel-body">
              <h2>Similar Projects</h2>
              <br>
              <center>
                {{>thumbnail}}
              </center>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  {{>footer}}
</template>


<template name="thumbnail">
  <img id="thumbnail" src={{imageURL}} width="150">
</template>


<template name="picture">
  <center><img id="banner" src={{imageURL}} width="450"></center>
</template>


<template name="tos">
  {{#if currentUser}}
  {{> nav}}
  {{else}}
  {{#unless loggingIn}}
  {{>logoutNav}}
  {{/unless}}
  {{/if}}
  <div class="alpha">
    <h1 style="padding-top: 20px;padding-bottom: 10px">Terms of Service</h1>
    <p>Whoa, whoa, what are you doing? Nobody ever reads Terms of Service. Nobody. Ever.</p> 
  </div>
  {{> footer}}
</template>


<template name="privacy">
  {{#if currentUser}}
  {{> nav}}
  {{else}}
  {{#unless loggingIn}}
  {{>logoutNav}}
  {{/unless}}
  {{/if}}
  <div class="alpha">
    <h1 style="padding-top: 20px;padding-bottom: 10px">Privacy Policy</h1>
    <p>We take your privacy very seriously. Your password is encrypted as it is stored in our database. We cannot read it. Seriously, it looks like gibberish.</p>
  </div>
  {{> footer}}
</template>


<template name="developers">
  {{#if currentUser}}
  {{> nav}}
  {{else}}
  {{#unless loggingIn}}
  {{>logoutNav}}
  {{/unless}}
  {{/if}}
  <div class="alpha">
    <h1 style="padding-top: 20px;padding-bottom: 10px">Developers</h1>
    <p>If you are an aspiring developer, Spark is the web app for you. Ideas runneth in the website's veins.</p>
  </div>
  {{> footer}}
</template>


<template name="artists">
  {{#if currentUser}}
  {{> nav}}
  {{else}}
  {{#unless loggingIn}}
  {{>logoutNav}}
  {{/unless}}
  {{/if}}
  <div class="alpha">
    <h1 style="padding-top: 20px;padding-bottom: 10px">Artists</h1>
    <p>We at Spark love visuals. So we need artists to make the ideas and projects very pretty. </p>
  </div>
  {{> footer}}
</template>


<template name="about">
  {{#if currentUser}}
  {{> nav}}
  {{else}}
  {{#unless loggingIn}}
  {{>logoutNav}}
  {{/unless}}
  {{/if}}
  <div class="alpha">
    <h1 style="padding-top: 20px;padding-bottom: 10px">About Spark</h1>
    <p>
      Spark is a web app built for developers, by developers. It is the holy mecca for those who have good ideas but no skills, or those who have good skills but no ideas. If you think you're one of these people, Spark is for you. 
    </p>
  </div>
  {{> footer}}
</template>


<template name="pageNotFound">
  <div class="jumbotron" style="padding: 100px 0">
    <center>
      <h1>Oops. Page Not Found.</h1>
      <h1><small>Sorry about that.</small></h1>
    </center>
  </div>
  <center>
    <h2><a href="/" target="_top">Back to Spark</a></h2>
  </center>
  <script>
  document.title = "Page Not Found"
  </script>
</template>


<template name="landing">
  {{> logoutNav}}

  <div class="jumbotron" style="margin-bottom: 0px; background: rgb(152, 251, 152)">
    <div class="delta">
      <h1>Start the fire for the latest ideas and projects.</h1>
      <h1><small>Everyone welcome - both developers and non-techies.</small></h1>
    </div>
  </div>

  <div id="footer" style="height: 150px">
    <div class="copyright">
      <div class="delta">
        <center>
          <div class="col-sm-2">
            <p>&copy; 2015 Spark</p>  
          </div>
          <div class="col-sm-2">
            <p><a href="/tos" target="_top">Terms of Service</a></p>  
          </div>
          <div class="col-sm-2">
            <p><a href="/privacy" target="_top">Privacy Policy</a></p>   
          </div>
          <div class="col-sm-2">
            <p><a href="/developers" target="_top">Developers</a></p>  
          </div>
          <div class="col-sm-2">
            <p><a href="/artists" target="_top">Artists</a></p>  
          </div>
          <div class="col-sm-2">
            <p><a href="/about" target="_top">About</a></p>  
          </div>
        </center>
      </div>
    </div>
  </div>
  <style>
  @media screen and (max-width: 768px) {
    #footer {
     position:relative;
     bottom:0;
     width:100%;
     height:300px !important;   /* Height of the footer */
     background: #f6f6f6;
   }
 }
 </style>
</template>

<template name="logoutNav">
  <nav class="navbar navbar-default" style="margin-bottom: 0px; min-height: 70px">
    <div class="delta">
      <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header" >
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a style="font-size: 20px;line-height: 35px" class="navbar-brand" href="/" target="_top">Spark</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1" >
          <form class="navbar-form navbar-left" role="search">
            <div class="form-group">
              <input type="text" class="form-control" placeholder="Search Spark" style="width:300px; margin-top: 7.5px">
            </div>
            <!-- <button type="submit" class="btn btn-default" style="width:65px"><i class="fa fa-search"></i></button> -->
          </form>
          <ul class="nav navbar-nav" >

            <li><a style="line-height: 35px" href="{{pathFor 'ideas'}}" target="_top">Ideas</a></li>
            <li><a style="line-height: 35px" href="{{pathFor 'projects'}}" target="_top">Projects</a></li>
          </ul>
          <ul class="nav navbar-nav navbar-right">
            <li class="navbar-text" style="line-height: 35px">
              <!--  HTML (to Trigger Modal) -->
              <!-- <button id="login" href="#loginModal" data-toggle="modal" class="btn btn-default" style="margin-left:15px; margin-top:15px; margin-right:15px">Login</button> -->
              <!-- Modal HTML -->
<!--               <div id="loginModal" class="modal fade">
                <div class="modal-dialog">
                  <div class="modal-content">
                    <div class="modal-header">
                      <button type="button" class="close" data-dismiss="modal" aria-hidden="true"><i class="fa fa-times-circle"></i></button>
                      <h1>Login</h1>
                    </div>
                    <div class="modal-body"> -->
                      {{>loginButtons align="right"}}
<!--                       <br>
                      <br>
                      <br>
                      <br>
                      <br>
                      <br>
                    </div>
                    <div class="modal-footer">
                      <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                    </div>
                  </div>
                </div>
              </div> -->
            </li>
          </ul>
        </div><!-- /.navbar-collapse -->
      </div><!-- /.container-fluid -->
    </div><!-- /.delta -->
  </nav>
</template>